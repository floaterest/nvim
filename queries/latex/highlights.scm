; extends

;; misc
("\\item"
  @punctuation.special
  @conceal
  (#set! conceal "â€¢"))

;; greek
(generic_command
  command: (command_name) @text.math
  (#has-ancestor? @text.math math_environment inline_formula displayed_equation)
  (#not-has-ancestor? @text.math label_definition text_mode)
  (#any-of? @text.math
    "\\Chi"
    "\\Delta"
    "\\Gamma"
    "\\Lambda"
    "\\Omega"
    "\\Phi"
    "\\Pi"
    "\\Psi"
    "\\Sigma"
    "\\Theta"
    "\\Upsilon"
    "\\Xi"
    "\\alpha"
    "\\beta"
    "\\chi"
    "\\delta"
    "\\eta"
    "\\gamma"
    "\\iota"
    "\\kappa"
    "\\lambda"
    "\\mu"
    "\\nu"
    "\\omega"
    "\\phi"
    "\\pi"
    "\\psi"
    "\\rho"
    "\\sigma"
    "\\tau"
    "\\theta"
    "\\upsilon"
    "\\varepsilon"
    "\\varphi"
    "\\varpi"
    "\\varrho"
    "\\varsigma"
    "\\vartheta"
    "\\xi"
    "\\zeta")
  (#set-pairs! @text.math conceal
    "\\Chi" "Î§"
    "\\Delta" "Î”"
    "\\Gamma" "Î“"
    "\\Lambda" "Î›"
    "\\Omega" "Î©"
    "\\Phi" "Î¦"
    "\\Pi" "Î "
    "\\Psi" "Î¨"
    "\\Sigma" "Î£"
    "\\Theta" "Î˜"
    "\\Upsilon" "Î¥"
    "\\Xi" "Î"
    "\\alpha" "Î±"
    "\\beta" "Î²"
    "\\chi" "Ï‡"
    "\\delta" "Î´"
    "\\eta" "Î·"
    "\\gamma" "Î³"
    "\\iota" "Î¹"
    "\\kappa" "Îº"
    "\\lambda" "Î»"
    "\\mu" "Î¼"
    "\\nu" "Î½"
    "\\omega" "Ï‰"
    "\\phi" "Ï•"
    "\\pi" "Ï€"
    "\\psi" "Ïˆ"
    "\\rho" "Ï"
    "\\sigma" "Ïƒ"
    "\\tau" "Ï„"
    "\\theta" "Î¸"
    "\\upsilon" "Ï…"
    "\\varepsilon" "Îµ"
    "\\varphi" "Ï†"
    "\\varpi" "Ï–"
    "\\varrho" "Ï±"
    "\\varsigma" "Ï‚"
    "\\vartheta" "Ï‘"
    "\\xi" "Î¾"
    "\\zeta" "Î¶"))

;; operators
(generic_command
  command: (command_name) @operator
  (#has-ancestor? @operator math_environment inline_formula displayed_equation)
  (#not-has-ancestor? @operator label_definition text_mode)
  (#any-of? @operator
    "\\Downarrow"
    "\\Im"
    "\\Leftarrow"
    "\\Leftrightarrow"
    "\\P"
    "\\Re"
    "\\Rightarrow"
    "\\S"
    "\\Uparrow"
    "\\Updownarrow"
    "\\amalg"
    "\\angle"
    "\\approx"
    "\\ast"
    "\\asymp"
    "\\backslash"
    "\\because"
    "\\bigcap"
    "\\bigcirc"
    "\\bigcup"
    "\\bigodot"
    "\\bigoplus"
    "\\bigotimes"
    "\\bigsqcup"
    "\\bigtriangledown"
    "\\bigtriangleup"
    "\\bigvee"
    "\\bigwedge"
    "\\bot"
    "\\bowtie"
    "\\bullet"
    "\\cap"
    "\\cdot"
    "\\cdots"
    "\\circ"
    "\\cong"
    "\\coprod"
    "\\copyright"
    "\\cup"
    "\\dagger"
    "\\dashv"
    "\\ddagger"
    "\\ddots"
    "\\diamond"
    "\\div"
    "\\doteq"
    "\\dots"
    "\\downarrow"
    "\\enspace"
    "\\equiv"
    "\\exists"
    "\\flat"
    "\\forall"
    "\\frown"
    "\\ge"
    "\\geq"
    "\\gets"
    "\\gg"
    "\\gt"
    "\\hookleftarrow"
    "\\hookrightarrow"
    "\\iff"
    "\\impliedby"
    "\\implies"
    "\\in"
    "\\int"
    "\\jmath"
    "\\land"
    "\\langle"
    "\\lceil"
    "\\ldots"
    "\\le"
    "\\left"
    "\\leftarrow"
    "\\leftharpoondown"
    "\\leftharpoonup"
    "\\leftrightarrow"
    "\\leq"
    "\\lfloor"
    "\\ll"
    "\\lmoustache"
    "\\lor"
    "\\lt"
    "\\mapsto"
    "\\mid"
    "\\models"
    "\\mp"
    "\\nabla"
    "\\natural"
    "\\ne"
    "\\nearrow"
    "\\neg"
    "\\neq"
    "\\nexists"
    "\\ni"
    "\\notin"
    "\\nwarrow"
    "\\odot"
    "\\oint"
    "\\ominus"
    "\\operatorname"
    "\\oplus"
    "\\oslash"
    "\\otimes"
    "\\owns"
    "\\parallel"
    "\\partial"
    "\\perp"
    "\\pm"
    "\\prec"
    "\\preceq"
    "\\prime"
    "\\prod"
    "\\propto"
    "\\qquad"
    "\\quad"
    "\\rangle"
    "\\rceil"
    "\\rfloor"
    "\\right"
    "\\rightarrow"
    "\\rightleftharpoons"
    "\\rightrightarrows"
    "\\rmoustache"
    "\\searrow"
    "\\setminus"
    "\\sharp"
    "\\sim"
    "\\simeq"
    "\\smile"
    "\\sqcap"
    "\\sqcup"
    "\\sqrt"
    "\\sqsubset"
    "\\sqsubseteq"
    "\\sqsupset"
    "\\sqsupseteq"
    "\\star"
    "\\subset"
    "\\subseteq"
    "\\succ"
    "\\succeq"
    "\\sum"
    "\\supset"
    "\\supseteq"
    "\\surd"
    "\\swarrow"
    "\\therefore"
    "\\times"
    "\\to"
    "\\top"
    "\\triangle"
    "\\triangleleft"
    "\\triangleright"
    "\\twoheadrightarrow"
    "\\uparrow"
    "\\updownarrow"
    "\\upharpoonright"
    "\\vdash"
    "\\vdots"
    "\\vee"
    "\\vert"
    "\\wedge"
    "\\wp"
    "\\wr")
  (#set-pairs! @operator conceal
    "\\Downarrow" "â‡“"
    "\\Im" "â„‘"
    "\\Leftarrow" "â‡"
    "\\Leftrightarrow" "â‡”"
    "\\P" "Â¶"
    "\\Re" "â„œ"
    "\\Rightarrow" "â‡’"
    "\\S" "Â§"
    "\\Uparrow" "â‡‘"
    "\\Updownarrow" "â‡•"
    "\\amalg" "âˆ"
    "\\angle" "âˆ "
    "\\approx" "â‰ˆ"
    "\\ast" "âˆ—"
    "\\asymp" "â‰"
    "\\backslash" "âˆ–"
    "\\because" "âˆµ"
    "\\bigcap" "âˆ©"
    "\\bigcirc" "â—‹"
    "\\bigcup" "âˆª"
    "\\bigodot" "âŠ™"
    "\\bigoplus" "âŠ•"
    "\\bigotimes" "âŠ—"
    "\\bigsqcup" "âŠ”"
    "\\bigtriangledown" "âˆ‡"
    "\\bigtriangleup" "âˆ†"
    "\\bigvee" "â‹"
    "\\bigwedge" "â‹€"
    "\\bot" "âŠ¥"
    "\\bowtie" "â‹ˆ"
    "\\bullet" "â€¢"
    "\\cap" "âˆ©"
    "\\cdot" "Â·"
    "\\cdots" "â‹¯"
    "\\circ" "âˆ˜"
    "\\cong" "â‰…"
    "\\coprod" "âˆ"
    "\\copyright" "Â©"
    "\\cup" "âˆª"
    "\\dagger" "â€ "
    "\\dashv" "âŠ£"
    "\\ddagger" "â€¡"
    "\\ddots" "â‹±"
    "\\diamond" "â‹„"
    "\\div" "Ã·"
    "\\doteq" "â‰"
    "\\dots" "â€¦"
    "\\downarrow" "â†“"
    "\\enspace" " "
    "\\equiv" "â‰¡"
    "\\exists" "âˆƒ"
    "\\flat" "â™­"
    "\\forall" "âˆ€"
    "\\frown" "â”"
    "\\ge" "â‰¥"
    "\\geq" "â‰¥"
    "\\gets" "â†"
    "\\gg" "âŸ«"
    "\\gt" ">"
    "\\hookleftarrow" "â†©"
    "\\hookrightarrow" "â†ª"
    "\\iff" "â‡”"
    "\\impliedby" "â‡"
    "\\implies" "â‡’"
    "\\in" "âˆˆ"
    "\\int" "âˆ«"
    "\\jmath" "ğš¥"
    "\\land" "âˆ§"
    "\\langle" "âŸ¨"
    "\\lceil" "âŒˆ"
    "\\ldots" "â€¦"
    "\\le" "â‰¤"
    "\\left" ""
    "\\leftarrow" "â†"
    "\\leftharpoondown" "â†½"
    "\\leftharpoonup" "â†¼"
    "\\leftrightarrow" "â†”"
    "\\leq" "â‰¤"
    "\\lfloor" "âŒŠ"
    "\\ll" "â‰ª"
    "\\lmoustache" "â•­"
    "\\lor" "âˆ¨"
    "\\lt" "<"
    "\\mapsto" "â†¦"
    "\\mid" "âˆ£"
    "\\models" "â•"
    "\\mp" "âˆ“"
    "\\nabla" "âˆ‡"
    "\\natural" "â™®"
    "\\ne" "â‰ "
    "\\nearrow" "â†—"
    "\\neg" "Â¬"
    "\\neq" "â‰ "
    "\\nexists" "âˆ„"
    "\\ni" "âˆ‹"
    "\\notin" "âˆ‰"
    "\\nwarrow" "â†–"
    "\\odot" "âŠ™"
    "\\oint" "âˆ®"
    "\\ominus" "âŠ–"
    "\\operatorname" ""
    "\\oplus" "âŠ•"
    "\\oslash" "âŠ˜"
    "\\otimes" "âŠ—"
    "\\owns" "âˆ‹"
    "\\parallel" "â•‘"
    "\\partial" "âˆ‚"
    "\\perp" "âŠ¥"
    "\\pm" "Â±"
    "\\prec" "â‰º"
    "\\preceq" "âª¯"
    "\\prime" "â€²"
    "\\prod" "âˆ"
    "\\propto" "âˆ"
    "\\qquad" " "
    "\\quad" " "
    "\\rangle" "âŸ©"
    "\\rceil" "âŒ‰"
    "\\rfloor" "âŒ‹"
    "\\right" ""
    "\\rightarrow" "â†’"
    "\\rightleftharpoons" "â‡Œ"
    "\\rightrightarrows" "â‡‰"
    "\\rmoustache" "â•®"
    "\\searrow" "â†˜"
    "\\setminus" "âˆ–"
    "\\sharp" "â™¯"
    "\\sim" "âˆ¼"
    "\\simeq" "â‹"
    "\\smile" "â€¿"
    "\\sqcap" "âŠ“"
    "\\sqcup" "âŠ”"
    "\\sqrt" "âˆš"
    "\\sqsubset" "âŠ"
    "\\sqsubseteq" "âŠ‘"
    "\\sqsupset" "âŠ"
    "\\sqsupseteq" "âŠ’"
    "\\star" "âœ«"
    "\\subset" "âŠ‚"
    "\\subseteq" "âŠ†"
    "\\succ" "â‰»"
    "\\succeq" "âª°"
    "\\sum" "âˆ‘"
    "\\supset" "âŠƒ"
    "\\supseteq" "âŠ‡"
    "\\surd" "âˆš"
    "\\swarrow" "â†™"
    "\\therefore" "âˆ´"
    "\\times" "Ã—"
    "\\to" "â†’"
    "\\top" "âŠ¤"
    "\\triangle" "âˆ†"
    "\\triangleleft" "âŠ²"
    "\\triangleright" "âŠ³"
    "\\twoheadrightarrow" "â† "
    "\\uparrow" "â†‘"
    "\\updownarrow" "â†•"
    "\\upharpoonright" "â†¾"
    "\\vdash" "âŠ¢"
    "\\vdots" "â‹®"
    "\\vee" "âˆ¨"
    "\\vert" "|"
    "\\wedge" "âˆ§"
    "\\wp" "â„˜"
    "\\wr" "â‰€"))

;; symbols
(generic_command
  command: (command_name) @text.math
  (#has-ancestor? @text.math math_environment inline_formula displayed_equation)
  (#not-has-ancestor? @text.math label_definition text_mode)
  (#any-of? @text.math
    "\\#"
    "\\aleph"
    "\\clubsuit"
    "\\diamondsuit"
    "\\ell"
    "\\emptyset"
    "\\hbar"
    "\\heartsuit"
    "\\imath"
    "\\infty"
    "\\spadesuit"
    "\\square"
    "\\varnothing")
  (#set-pairs! @text.math conceal
    "\\#" "#"
    "\\aleph" "â„µ"
    "\\clubsuit" "â™£"
    "\\diamondsuit" "â™¢"
    "\\ell" "â„“"
    "\\emptyset" "âˆ…"
    "\\hbar" "â„"
    "\\heartsuit" "â™¡"
    "\\imath" "É©"
    "\\infty" "âˆ"
    "\\spadesuit" "â™ "
    "\\square" "â–¡"
    "\\varnothing" "âˆ…"))

;; delimiters
(curly_group "{" @conceal
  (#not-has-grandparent?
    @conceal
    title_declaration
    author_declaration
    chapter
    part
    section
    subsection
    subsubsection
    paragraph
    subparagraph
    generic_command)
  (#set! conceal ""))

(curly_group "}" @conceal
  (#not-has-grandparent?
    @conceal
    title_declaration
    author_declaration
    chapter
    part
    section
    subsection
    subsubsection
    paragraph
    subparagraph
    generic_command)
  (#set! conceal ""))

(math_delimiter left_command: _ @conceal 
  (#set! conceal ""))

(math_delimiter right_command: _ @conceal 
  (#set! conceal ""))

(inline_formula "$" @conceal 
  (#set! conceal ""))

(inline_formula "\\(" @conceal 
  (#set! conceal ""))

(inline_formula "\\)" @conceal 
  (#set! conceal ""))

(displayed_equation "\\[" @conceal 
  (#set! conceal ""))

(displayed_equation "\\]" @conceal 
  (#set! conceal ""))

(displayed_equation "$$" @conceal 
  (#set! conceal ""))

(text_mode command: _ @conceal 
  (#set! conceal ""))

;; typography
(generic_command
  command: (command_name) @conceal
  (#any-of? @conceal
    "\\emph"
    "\\mathit"
    "\\textit"
    "\\mathbf"
    "\\textbf")
  (#set! conceal ""))

;; scripts
((generic_command
    command: (command_name)
    arg: (curly_group))
  @text.math
  (#any-of? @text.math
    "\\mathbb{A}"
    "\\mathbb{B}"
    "\\mathbb{C}"
    "\\mathbb{D}"
    "\\mathbb{E}"
    "\\mathbb{F}"
    "\\mathbb{G}"
    "\\mathbb{H}"
    "\\mathbb{I}"
    "\\mathbb{J}"
    "\\mathbb{K}"
    "\\mathbb{L}"
    "\\mathbb{M}"
    "\\mathbb{N}"
    "\\mathbb{O}"
    "\\mathbb{P}"
    "\\mathbb{Q}"
    "\\mathbb{R}"
    "\\mathbb{S}"
    "\\mathbb{T}"
    "\\mathbb{U}"
    "\\mathbb{V}"
    "\\mathbb{W}"
    "\\mathbb{X}"
    "\\mathbb{Y}"
    "\\mathbb{Z}"
    "\\mathcal{A}"
    "\\mathcal{B}"
    "\\mathcal{C}"
    "\\mathcal{D}"
    "\\mathcal{E}"
    "\\mathcal{F}"
    "\\mathcal{G}"
    "\\mathcal{H}"
    "\\mathcal{I}"
    "\\mathcal{J}"
    "\\mathcal{K}"
    "\\mathcal{L}"
    "\\mathcal{M}"
    "\\mathcal{N}"
    "\\mathcal{O}"
    "\\mathcal{P}"
    "\\mathcal{Q}"
    "\\mathcal{R}"
    "\\mathcal{S}"
    "\\mathcal{T}"
    "\\mathcal{U}"
    "\\mathcal{V}"
    "\\mathcal{W}"
    "\\mathcal{X}"
    "\\mathcal{Y}"
    "\\mathcal{Z}"
    "\\mathfrak{A}"
    "\\mathfrak{B}"
    "\\mathfrak{C}"
    "\\mathfrak{D}"
    "\\mathfrak{E}"
    "\\mathfrak{F}"
    "\\mathfrak{G}"
    "\\mathfrak{H}"
    "\\mathfrak{I}"
    "\\mathfrak{J}"
    "\\mathfrak{K}"
    "\\mathfrak{L}"
    "\\mathfrak{M}"
    "\\mathfrak{N}"
    "\\mathfrak{O}"
    "\\mathfrak{P}"
    "\\mathfrak{Q}"
    "\\mathfrak{R}"
    "\\mathfrak{S}"
    "\\mathfrak{T}"
    "\\mathfrak{U}"
    "\\mathfrak{V}"
    "\\mathfrak{W}"
    "\\mathfrak{X}"
    "\\mathfrak{Y}"
    "\\mathfrak{Z}"
    "\\mathfrak{a}"
    "\\mathfrak{b}"
    "\\mathfrak{c}"
    "\\mathfrak{d}"
    "\\mathfrak{e}"
    "\\mathfrak{f}"
    "\\mathfrak{g}"
    "\\mathfrak{h}"
    "\\mathfrak{i}"
    "\\mathfrak{j}"
    "\\mathfrak{k}"
    "\\mathfrak{l}"
    "\\mathfrak{m}"
    "\\mathfrak{n}"
    "\\mathfrak{o}"
    "\\mathfrak{p}"
    "\\mathfrak{q}"
    "\\mathfrak{r}"
    "\\mathfrak{s}"
    "\\mathfrak{t}"
    "\\mathfrak{u}"
    "\\mathfrak{v}"
    "\\mathfrak{w}"
    "\\mathfrak{x}"
    "\\mathfrak{y}"
    "\\mathfrak{z}"
    "\\mathscr{A}"
    "\\mathscr{B}"
    "\\mathscr{C}"
    "\\mathscr{D}"
    "\\mathscr{E}"
    "\\mathscr{F}"
    "\\mathscr{G}"
    "\\mathscr{H}"
    "\\mathscr{I}"
    "\\mathscr{J}"
    "\\mathscr{K}"
    "\\mathscr{L}"
    "\\mathscr{M}"
    "\\mathscr{N}"
    "\\mathscr{O}"
    "\\mathscr{P}"
    "\\mathscr{Q}"
    "\\mathscr{R}"
    "\\mathscr{S}"
    "\\mathscr{T}"
    "\\mathscr{U}"
    "\\mathscr{V}"
    "\\mathscr{W}"
    "\\mathscr{X}"
    "\\mathscr{Y}"
    "\\mathscr{Z}"
    "\\mathsf{A}"
    "\\mathsf{B}"
    "\\mathsf{C}"
    "\\mathsf{D}"
    "\\mathsf{E}"
    "\\mathsf{F}"
    "\\mathsf{G}"
    "\\mathsf{H}"
    "\\mathsf{I}"
    "\\mathsf{J}"
    "\\mathsf{K}"
    "\\mathsf{L}"
    "\\mathsf{M}"
    "\\mathsf{N}"
    "\\mathsf{O}"
    "\\mathsf{P}"
    "\\mathsf{Q}"
    "\\mathsf{R}"
    "\\mathsf{S}"
    "\\mathsf{T}"
    "\\mathsf{U}"
    "\\mathsf{V}"
    "\\mathsf{W}"
    "\\mathsf{X}"
    "\\mathsf{Y}"
    "\\mathsf{Z}"
    "\\mathsf{a}"
    "\\mathsf{b}"
    "\\mathsf{c}"
    "\\mathsf{d}"
    "\\mathsf{e}"
    "\\mathsf{f}"
    "\\mathsf{g}"
    "\\mathsf{h}"
    "\\mathsf{i}"
    "\\mathsf{j}"
    "\\mathsf{k}"
    "\\mathsf{l}"
    "\\mathsf{m}"
    "\\mathsf{n}"
    "\\mathsf{o}"
    "\\mathsf{p}"
    "\\mathsf{q}"
    "\\mathsf{r}"
    "\\mathsf{s}"
    "\\mathsf{t}"
    "\\mathsf{u}"
    "\\mathsf{v}"
    "\\mathsf{w}"
    "\\mathsf{x}"
    "\\mathsf{y}"
    "\\mathsf{z}")
  (#set-pairs! @text.math conceal
    "\\mathbb{A}" "ğ”¸"
    "\\mathbb{B}" "ğ”¹"
    "\\mathbb{C}" "â„‚"
    "\\mathbb{D}" "ğ”»"
    "\\mathbb{E}" "ğ”¼"
    "\\mathbb{F}" "ğ”½"
    "\\mathbb{G}" "ğ”¾"
    "\\mathbb{H}" "â„"
    "\\mathbb{I}" "ğ•€"
    "\\mathbb{J}" "ğ•"
    "\\mathbb{K}" "ğ•‚"
    "\\mathbb{L}" "ğ•ƒ"
    "\\mathbb{M}" "ğ•„"
    "\\mathbb{N}" "â„•"
    "\\mathbb{O}" "ğ•†"
    "\\mathbb{P}" "â„™"
    "\\mathbb{Q}" "â„š"
    "\\mathbb{R}" "â„"
    "\\mathbb{S}" "ğ•Š"
    "\\mathbb{T}" "ğ•‹"
    "\\mathbb{U}" "ğ•Œ"
    "\\mathbb{V}" "ğ•"
    "\\mathbb{W}" "ğ•"
    "\\mathbb{X}" "ğ•"
    "\\mathbb{Y}" "ğ•"
    "\\mathbb{Z}" "â„¤"
    "\\mathcal{A}" "ğ“"
    "\\mathcal{B}" "ğ“‘"
    "\\mathcal{C}" "ğ“’"
    "\\mathcal{D}" "ğ““"
    "\\mathcal{E}" "ğ“”"
    "\\mathcal{F}" "ğ“•"
    "\\mathcal{G}" "ğ“–"
    "\\mathcal{H}" "ğ“—"
    "\\mathcal{I}" "ğ“˜"
    "\\mathcal{J}" "ğ“™"
    "\\mathcal{K}" "ğ“š"
    "\\mathcal{L}" "ğ“›"
    "\\mathcal{M}" "ğ“œ"
    "\\mathcal{N}" "ğ“"
    "\\mathcal{O}" "ğ“"
    "\\mathcal{P}" "ğ“Ÿ"
    "\\mathcal{Q}" "ğ“ "
    "\\mathcal{R}" "ğ“¡"
    "\\mathcal{S}" "ğ“¢"
    "\\mathcal{T}" "ğ“£"
    "\\mathcal{U}" "ğ“¤"
    "\\mathcal{V}" "ğ“¥"
    "\\mathcal{W}" "ğ“¦"
    "\\mathcal{X}" "ğ“§"
    "\\mathcal{Y}" "ğ“¨"
    "\\mathcal{Z}" "ğ“©"
    "\\mathfrak{A}" "ğ”„"
    "\\mathfrak{B}" "ğ”…"
    "\\mathfrak{C}" "â„­"
    "\\mathfrak{D}" "ğ”‡"
    "\\mathfrak{E}" "ğ”ˆ"
    "\\mathfrak{F}" "ğ”‰"
    "\\mathfrak{G}" "ğ”Š"
    "\\mathfrak{H}" "â„Œ"
    "\\mathfrak{I}" "â„‘"
    "\\mathfrak{J}" "ğ”"
    "\\mathfrak{K}" "ğ”"
    "\\mathfrak{L}" "ğ”"
    "\\mathfrak{M}" "ğ”"
    "\\mathfrak{N}" "ğ”‘"
    "\\mathfrak{O}" "ğ”’"
    "\\mathfrak{P}" "ğ”“"
    "\\mathfrak{Q}" "ğ””"
    "\\mathfrak{R}" "â„œ"
    "\\mathfrak{S}" "ğ”–"
    "\\mathfrak{T}" "ğ”—"
    "\\mathfrak{U}" "ğ”˜"
    "\\mathfrak{V}" "ğ”™"
    "\\mathfrak{W}" "ğ”š"
    "\\mathfrak{X}" "ğ”›"
    "\\mathfrak{Y}" "ğ”œ"
    "\\mathfrak{Z}" "â„¨"
    "\\mathfrak{a}" "ğ”"
    "\\mathfrak{b}" "ğ”Ÿ"
    "\\mathfrak{c}" "ğ” "
    "\\mathfrak{d}" "ğ”¡"
    "\\mathfrak{e}" "ğ”¢"
    "\\mathfrak{f}" "ğ”£"
    "\\mathfrak{g}" "ğ”¤"
    "\\mathfrak{h}" "ğ”¥"
    "\\mathfrak{i}" "ğ”¦"
    "\\mathfrak{j}" "ğ”§"
    "\\mathfrak{k}" "ğ”¨"
    "\\mathfrak{l}" "ğ”©"
    "\\mathfrak{m}" "ğ”ª"
    "\\mathfrak{n}" "ğ”«"
    "\\mathfrak{o}" "ğ”¬"
    "\\mathfrak{p}" "ğ”­"
    "\\mathfrak{q}" "ğ”®"
    "\\mathfrak{r}" "ğ”¯"
    "\\mathfrak{s}" "ğ”°"
    "\\mathfrak{t}" "ğ”±"
    "\\mathfrak{u}" "ğ”²"
    "\\mathfrak{v}" "ğ”³"
    "\\mathfrak{w}" "ğ”´"
    "\\mathfrak{x}" "ğ”µ"
    "\\mathfrak{y}" "ğ”¶"
    "\\mathfrak{z}" "ğ”·"
    "\\mathscr{A}" "ğ“"
    "\\mathscr{B}" "ğ“‘"
    "\\mathscr{C}" "ğ“’"
    "\\mathscr{D}" "ğ““"
    "\\mathscr{E}" "ğ“”"
    "\\mathscr{F}" "ğ“•"
    "\\mathscr{G}" "ğ“–"
    "\\mathscr{H}" "ğ“—"
    "\\mathscr{I}" "ğ“˜"
    "\\mathscr{J}" "ğ“™"
    "\\mathscr{K}" "ğ“š"
    "\\mathscr{L}" "ğ“›"
    "\\mathscr{M}" "ğ“œ"
    "\\mathscr{N}" "ğ“"
    "\\mathscr{O}" "ğ“"
    "\\mathscr{P}" "ğ“Ÿ"
    "\\mathscr{Q}" "ğ“ "
    "\\mathscr{R}" "ğ“¡"
    "\\mathscr{S}" "ğ“¢"
    "\\mathscr{T}" "ğ“£"
    "\\mathscr{U}" "ğ“¤"
    "\\mathscr{V}" "ğ“¥"
    "\\mathscr{W}" "ğ“¦"
    "\\mathscr{X}" "ğ“§"
    "\\mathscr{Y}" "ğ“¨"
    "\\mathscr{Z}" "ğ“©"
    "\\mathsf{A}" "ğ– "
    "\\mathsf{B}" "ğ–¡"
    "\\mathsf{C}" "ğ–¢"
    "\\mathsf{D}" "ğ–£"
    "\\mathsf{E}" "ğ–¤"
    "\\mathsf{F}" "ğ–¥"
    "\\mathsf{G}" "ğ–¦"
    "\\mathsf{H}" "ğ–§"
    "\\mathsf{I}" "ğ–¨"
    "\\mathsf{J}" "ğ–©"
    "\\mathsf{K}" "ğ–ª"
    "\\mathsf{L}" "ğ–«"
    "\\mathsf{M}" "ğ–¬"
    "\\mathsf{N}" "ğ–­"
    "\\mathsf{O}" "ğ–®"
    "\\mathsf{P}" "ğ–¯"
    "\\mathsf{Q}" "ğ–°"
    "\\mathsf{R}" "ğ–±"
    "\\mathsf{S}" "ğ–²"
    "\\mathsf{T}" "ğ–³"
    "\\mathsf{U}" "ğ–´"
    "\\mathsf{V}" "ğ–µ"
    "\\mathsf{W}" "ğ–¶"
    "\\mathsf{X}" "ğ–·"
    "\\mathsf{Y}" "ğ–¸"
    "\\mathsf{Z}" "ğ–¹"
    "\\mathsf{a}" "ğ–º"
    "\\mathsf{b}" "ğ–»"
    "\\mathsf{c}" "ğ–¼"
    "\\mathsf{d}" "ğ–½"
    "\\mathsf{e}" "ğ–¾"
    "\\mathsf{f}" "ğ–¿"
    "\\mathsf{g}" "ğ—€"
    "\\mathsf{h}" "ğ—"
    "\\mathsf{i}" "ğ—‚"
    "\\mathsf{j}" "ğ—ƒ"
    "\\mathsf{k}" "ğ—„"
    "\\mathsf{l}" "ğ—…"
    "\\mathsf{m}" "ğ—†"
    "\\mathsf{n}" "ğ—‡"
    "\\mathsf{o}" "ğ—ˆ"
    "\\mathsf{p}" "ğ—‰"
    "\\mathsf{q}" "ğ—Š"
    "\\mathsf{r}" "ğ—‹"
    "\\mathsf{s}" "ğ—Œ"
    "\\mathsf{t}" "ğ—"
    "\\mathsf{u}" "ğ—"
    "\\mathsf{v}" "ğ—"
    "\\mathsf{w}" "ğ—"
    "\\mathsf{x}" "ğ—‘"
    "\\mathsf{y}" "ğ—’"
    "\\mathsf{z}" "ğ—“"))

;; subscripts
(text
  word: (word) @text.math
  (#has-ancestor? @text.math subscript)
  (#has-ancestor? @text.math math_environment inline_formula displayed_equation)
  (#not-has-ancestor? @text.math label_definition text_mode)
  (#any-of? @text.math
    "0"
    "1"
    "2"
    "3"
    "4"
    "5"
    "6"
    "7"
    "8"
    "9"
    "a"
    "e"
    "h"
    "i"
    "j"
    "k"
    "l"
    "m"
    "n"
    "o"
    "p"
    "r"
    "s"
    "t"
    "u"
    "v"
    "x")
  (#set-pairs! @text.math conceal
    "0" "â‚€"
    "1" "â‚"
    "2" "â‚‚"
    "3" "â‚ƒ"
    "4" "â‚„"
    "5" "â‚…"
    "6" "â‚†"
    "7" "â‚‡"
    "8" "â‚ˆ"
    "9" "â‚‰"
    "a" "â‚"
    "e" "â‚‘"
    "h" "â‚•"
    "i" "áµ¢"
    "j" "â±¼"
    "k" "â‚–"
    "l" "â‚—"
    "m" "â‚˜"
    "n" "â‚™"
    "o" "â‚’"
    "p" "â‚š"
    "r" "áµ£"
    "s" "â‚›"
    "t" "â‚œ"
    "u" "áµ¤"
    "v" "áµ¥"
    "x" "â‚“"))

(text
  word: (subscript) @text.math
  (#has-ancestor? @text.math math_environment inline_formula displayed_equation)
  (#not-has-ancestor? @text.math label_definition text_mode)
  (#any-of? @text.math
    "_0"
    "_1"
    "_2"
    "_3"
    "_4"
    "_5"
    "_6"
    "_7"
    "_8"
    "_9"
    "_a"
    "_e"
    "_h"
    "_i"
    "_j"
    "_k"
    "_l"
    "_m"
    "_n"
    "_o"
    "_p"
    "_r"
    "_s"
    "_t"
    "_u"
    "_v"
    "_x")
  (#set-pairs! @text.math conceal
    "_0" "â‚€"
    "_1" "â‚"
    "_2" "â‚‚"
    "_3" "â‚ƒ"
    "_4" "â‚„"
    "_5" "â‚…"
    "_6" "â‚†"
    "_7" "â‚‡"
    "_8" "â‚ˆ"
    "_9" "â‚‰"
    "_a" "â‚"
    "_e" "â‚‘"
    "_h" "â‚•"
    "_i" "áµ¢"
    "_j" "â±¼"
    "_k" "â‚–"
    "_l" "â‚—"
    "_m" "â‚˜"
    "_n" "â‚™"
    "_o" "â‚’"
    "_p" "â‚š"
    "_r" "áµ£"
    "_s" "â‚›"
    "_t" "â‚œ"
    "_u" "áµ¤"
    "_v" "áµ¥"
    "_x" "â‚“"))

(text
  word: (word) @operator
  (#has-ancestor? @operator subscript)
  (#has-ancestor? @operator math_environment inline_formula displayed_equation)
  (#not-has-ancestor? @operator label_definition text_mode)
  (#any-of? @operator
    "+"
    "-"
    "/")
  (#set-pairs! @operator conceal
    "+" "â‚Š"
    "-" "â‚‹"
    "/" "Ë"))

(text
  word: (subscript) @operator
  (#has-ancestor? @operator math_environment inline_formula displayed_equation)
  (#not-has-ancestor? @operator label_definition text_mode)
  (#any-of? @operator
    "_+"
    "_-"
    "_/")
  (#set-pairs! @operator conceal
    "_+" "â‚Š"
    "_-" "â‚‹"
    "_/" "Ë"))

;; superscripts
(text
  word: (word) @text.math
  (#has-ancestor? @text.math superscript)
  (#has-ancestor? @text.math math_environment inline_formula displayed_equation)
  (#not-has-ancestor? @text.math label_definition text_mode)
  (#any-of? @text.math
    "0"
    "1"
    "2"
    "3"
    "4"
    "5"
    "6"
    "7"
    "8"
    "9"
    "A"
    "B"
    "D"
    "E"
    "G"
    "H"
    "I"
    "J"
    "K"
    "L"
    "M"
    "N"
    "O"
    "P"
    "R"
    "T"
    "U"
    "V"
    "W"
    "a"
    "b"
    "c"
    "d"
    "e"
    "f"
    "g"
    "h"
    "i"
    "j"
    "k"
    "l"
    "m"
    "n"
    "o"
    "p"
    "r"
    "s"
    "t"
    "u"
    "v"
    "w"
    "x"
    "y"
    "z")
  (#set-pairs! @text.math conceal
    "0" "â°"
    "1" "Â¹"
    "2" "Â²"
    "3" "Â³"
    "4" "â´"
    "5" "âµ"
    "6" "â¶"
    "7" "â·"
    "8" "â¸"
    "9" "â¹"
    "A" "á´¬"
    "B" "á´®"
    "D" "á´°"
    "E" "á´±"
    "G" "á´³"
    "H" "á´´"
    "I" "á´µ"
    "J" "á´¶"
    "K" "á´·"
    "L" "á´¸"
    "M" "á´¹"
    "N" "á´º"
    "O" "á´¼"
    "P" "á´¾"
    "R" "á´¿"
    "T" "áµ€"
    "U" "áµ"
    "V" "â±½"
    "W" "áµ‚"
    "a" "áµƒ"
    "b" "áµ‡"
    "c" "á¶œ"
    "d" "áµˆ"
    "e" "áµ‰"
    "f" "á¶ "
    "g" "áµ"
    "h" "Ê°"
    "i" "â±"
    "j" "Ê²"
    "k" "áµ"
    "l" "Ë¡"
    "m" "áµ"
    "n" "â¿"
    "o" "áµ’"
    "p" "áµ–"
    "r" "Ê³"
    "s" "Ë¢"
    "t" "áµ—"
    "u" "áµ˜"
    "v" "áµ›"
    "w" "Ê·"
    "x" "Ë£"
    "y" "Ê¸"
    "z" "á¶»"))

(text
  word: (superscript) @text.math
  (#has-ancestor? @text.math math_environment inline_formula displayed_equation)
  (#not-has-ancestor? @text.math label_definition text_mode)
  (#any-of? @text.math
    "_0"
    "_1"
    "_2"
    "_3"
    "_4"
    "_5"
    "_6"
    "_7"
    "_8"
    "_9"
    "_A"
    "_B"
    "_D"
    "_E"
    "_G"
    "_H"
    "_I"
    "_J"
    "_K"
    "_L"
    "_M"
    "_N"
    "_O"
    "_P"
    "_R"
    "_T"
    "_U"
    "_V"
    "_W"
    "_a"
    "_b"
    "_c"
    "_d"
    "_e"
    "_f"
    "_g"
    "_h"
    "_i"
    "_j"
    "_k"
    "_l"
    "_m"
    "_n"
    "_o"
    "_p"
    "_r"
    "_s"
    "_t"
    "_u"
    "_v"
    "_w"
    "_x"
    "_y"
    "_z")
  (#set-pairs! @text.math conceal
    "_0" "â°"
    "_1" "Â¹"
    "_2" "Â²"
    "_3" "Â³"
    "_4" "â´"
    "_5" "âµ"
    "_6" "â¶"
    "_7" "â·"
    "_8" "â¸"
    "_9" "â¹"
    "_A" "á´¬"
    "_B" "á´®"
    "_D" "á´°"
    "_E" "á´±"
    "_G" "á´³"
    "_H" "á´´"
    "_I" "á´µ"
    "_J" "á´¶"
    "_K" "á´·"
    "_L" "á´¸"
    "_M" "á´¹"
    "_N" "á´º"
    "_O" "á´¼"
    "_P" "á´¾"
    "_R" "á´¿"
    "_T" "áµ€"
    "_U" "áµ"
    "_V" "â±½"
    "_W" "áµ‚"
    "_a" "áµƒ"
    "_b" "áµ‡"
    "_c" "á¶œ"
    "_d" "áµˆ"
    "_e" "áµ‰"
    "_f" "á¶ "
    "_g" "áµ"
    "_h" "Ê°"
    "_i" "â±"
    "_j" "Ê²"
    "_k" "áµ"
    "_l" "Ë¡"
    "_m" "áµ"
    "_n" "â¿"
    "_o" "áµ’"
    "_p" "áµ–"
    "_r" "Ê³"
    "_s" "Ë¢"
    "_t" "áµ—"
    "_u" "áµ˜"
    "_v" "áµ›"
    "_w" "Ê·"
    "_x" "Ë£"
    "_y" "Ê¸"
    "_z" "á¶»"))

(text
  word: (word) @operator
  (#has-ancestor? @operator superscript)
  (#has-ancestor? @operator math_environment inline_formula displayed_equation)
  (#not-has-ancestor? @operator label_definition text_mode)
  (#any-of? @operator
    "+"
    "-"
    "/"
    "<"
    "="
    ">"
    "\.")
  (#set-pairs! @operator conceal
    "+" "âº"
    "-" "â»"
    "/" "ËŠ"
    "<" "Ë‚"
    "=" "Ë­"
    ">" "Ëƒ"
    "\." "Ë™"))

(text
  word: (superscript) @operator
  (#has-ancestor? @operator math_environment inline_formula displayed_equation)
  (#not-has-ancestor? @operator label_definition text_mode)
  (#any-of? @operator
    "_+"
    "_-"
    "_/"
    "_<"
    "_="
    "_>"
    "_\.")
  (#set-pairs! @operator conceal
    "_+" "âº"
    "_-" "â»"
    "_/" "ËŠ"
    "_<" "Ë‚"
    "_=" "Ë­"
    "_>" "Ëƒ"
    "_\." "Ë™"))

